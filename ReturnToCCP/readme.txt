How to build a .COM file that does return directly to CCP, without a CP/M warm boot

Use :

>submit make

It will build MYDUMPX.COM

When executing-it, it will return to CCP, without a CP/M warm boot.

Example:

C>mydumpx dumpx.obj
0000 : 0A 00 07 00 01 02 03 00 01 5A 38 30 00 FB 00 01 : .........Z80....
0010 : 00 00 00 00 74 65 78 74 00 CD 00 00 DD 7E 06 E6 : ....text.....~..
0020 : 0F DD 77 06 21 08 00 E5 06 0A CD 00 00 DD 7E 06 : ..w.!.........~.
0030 : 5F FA 24 00 17 9F 57 21 37 00 19 18 07 17 9F 57 : _.$...W!7......W
0040 : 21 30 00 19 E5 CD 00 00 C3 00 00 CD 00 00 DD 7E : !0.............~
0050 : 06 6F 17 9F 67 CB 2C CB 1D CB 2C CB 1D CB 2C CB : .o..g.,...,...,.
0060 : 1D CB 2C CB 1D E5 CD 00 00 DD 6E 06 E3 CD 00 00 : ..,.......n.....
0070 : C3 00 00 CD 00 00 06 08 DD 6E 06 DD 66 07 CD 00 : .........n..f...
0080 : 00 E5 CD 32 00 DD 6E 06 E3 CD 32 00 C3 00 00 CD : ...2..n...2.....
0090 : 00 00 DD 6E 06 DD 66 07 E5 CD 00 00 21 01 00 E3 : ...n..f.....!...
00A0 : CD 00 00 C3 00 00 CD 00 00 EA FF 11 02 00 DD 6E : ...............n
00B0 : 06 DD 66 07 B7 ED 52 28 0E 21 00 00 E5 CD 00 00 : ..f...R(.!......
00C0 : C1 21 01 00 C3 00 00 21 14 00 E5 DD 6E 08 DD 66 : .!.....!....n..f
00D0 : 09 23 23 4E 23 46 C5 CD 00 00 C1 C1 DD 75 FA DD : .##N#F.......u..
00E0 : 74 FB 7D B4 20 08 21 17 00 E5 CD 76 00 C1 DD 36 : t.}. .!....v...6
00F0 : FC 00 DD 36 FD 00 C3 0A 02 DD 6E FC DD 66 FD E5 : ...6......n..f..
0100 : CD 5A 00 21 08 00 E3 21 20 00 E5 CE 00 03 01 00 : .Z.!...! .......
0110 : 22 63 73 76 00 0C 00 22 5F 5F 69 6F 62 00 12 00 : "csv..."__iob...
0120 : 22 62 72 65 6C 6F 70 00 19 00 12 74 65 78 74 00 : "brelop....text.
0130 : 2D 00 22 5F 66 70 75 74 63 00 30 00 22 63 72 65 : -."_fputc.0."cre
0140 : 74 00 33 00 22 63 73 76 00 4E 00 12 74 65 78 74 : t.3."csv.N..text
0150 : 00 55 00 12 74 65 78 74 00 58 00 22 63 72 65 74 : .U..text.X."cret
0160 : 00 5B 00 22 63 73 76 00 66 00 22 73 68 61 72 00 : .[."csv.f."shar.
0170 : 6A 00 12 74 65 78 74 00 71 00 12 74 65 78 74 00 : j..text.q..text.
0180 : 74 00 22 63 72 65 74 00 77 00 22 63 73 76 00 81 : t."cret.w."csv..
0190 : 00 22 5F 70 75 74 73 00 88 00 22 5F 65 78 69 74 : ."_puts..."_exit
01A0 : 00 8B 00 22 63 72 65 74 00 8E 00 22 6E 63 73 76 : ..."cret..."ncsv
01B0 : 00 A1 00 12 64 61 74 61 00 A5 00 22 5F 70 75 74 : ....data..."_put
01C0 : 73 00 AC 00 22 63 72 65 74 00 AF 00 12 64 61 74 : s..."cret....dat
01D0 : 61 00 BF 00 22 5F 66 6F 70 65 6E 00 29 00 03 CE : a..."_fopen.)...
01E0 : 00 12 64 61 74 61 00 D2 00 12 74 65 78 74 00 DE : ..data....text..
01F0 : 00 12 74 65 78 74 00 E8 00 12 74 65 78 74 00 EB : ..text....text..
0200 : 00 22 5F 5F 69 6F 62 00 FB 00 01 F2 00 00 00 74 : ."__iob........t
0210 : 65 78 74 00 CD 00 00 C1 21 08 00 E3 21 3A 00 E5 : ext.....!...!:..
0220 : CD 00 00 C1 21 08 00 E3 21 20 00 E5 CD 00 00 C1 : ....!...! ......
0230 : C1 DD 36 FE 00 DD 36 FF 00 18 2D DD E5 D1 DD 6E : ..6...6...-....n
0240 : FE DD 66 FF 19 11 EA FF 19 6E E5 CD 32 00 21 08 : ..f......n..2.!.
0250 : 00 E3 21 20 00 E5 CD 00 00 C1 C1 DD 6E FE DD 66 : ..! ........n..f
0260 : FF 23 DD 75 FE DD 74 FF 11 10 00 DD 6E FE DD 66 : .#.u..t.....n..f
0270 : FF CD 00 00 FA 19 01 21 08 00 E5 21 3A 00 E5 CD : .......!...!:...
0280 : 00 00 C1 21 08 00 E3 21 20 00 E5 CD 00 00 C1 C1 : ...!...! .......
0290 : DD 36 FE 00 DD 36 FF 00 18 66 DD E5 D1 DD 6E FE : .6...6...f....n.
02A0 : DD 66 FF 19 11 EA FF 19 5E 16 00 21 1F 00 CD 00 : .f......^..!....
02B0 : 00 30 33 06 80 DD E5 D1 DD 6E FE DD 66 FF 19 11 : .03......n..f...
02C0 : EA FF 19 7E CD 00 00 21 08 00 E5 30 1D DD E5 D1 : ...~...!...0....
02D0 : DD 6E FE DD 66 FF 19 11 EA FF 19 6E 26 00 E5 CD : .n..f......n&...
02E0 : 00 00 C1 C1 18 0D 21 08 00 E5 21 2E 00 E5 CD 00 : ......!...!.....
02F0 : 00 C1 C1 DD 6E FE DD 66 FF 23 DD 75 FE DD 74 FF : ....n..f.#.u..t.
0300 : 11 10 00 DD 6E FE BD 00 03 01 00 22 5F 66 70 75 : ....n......"_fpu
0310 : 74 63 00 05 00 22 5F 5F 69 6F 62 00 0D 00 22 5F : tc..."__iob..."_
0320 : 66 70 75 74 63 00 11 00 22 5F 5F 69 6F 62 00 19 : fputc..."__iob..
0330 : 00 22 5F 66 70 75 74 63 00 38 00 12 74 65 78 74 : ."_fputc.8..text
0340 : 00 3B 00 22 5F 5F 69 6F 62 00 43 00 22 5F 66 70 : .;."__iob.C."_fp
0350 : 75 74 63 00 5E 00 22 77 72 65 6C 6F 70 00 61 00 : utc.^."wrelop.a.
0360 : 12 74 65 78 74 00 64 00 22 5F 5F 69 6F 62 00 6C : .text.d."__iob.l
0370 : 00 22 5F 66 70 75 74 63 00 70 00 22 5F 5F 69 6F : ."_fputc.p."__io
0380 : 62 00 78 00 22 5F 66 70 75 74 63 00 9B 00 22 77 : b.x."_fputc..."w
0390 : 72 65 6C 6F 70 00 B1 00 22 62 72 65 6C 6F 70 00 : relop..."brelop.
03A0 : B4 00 22 5F 5F 69 6F 62 00 CC 00 22 5F 66 70 75 : .."__iob..."_fpu
03B0 : 74 63 00 D3 00 22 5F 5F 69 6F 62 00 DB 00 22 5F : tc..."__iob..."_
03C0 : 66 70 75 74 63 00 67 00 01 E4 01 00 00 74 65 78 : fputc.g......tex
03D0 : 74 00 DD 66 FF CD 00 00 FA 78 01 21 08 00 E5 21 : t..f.....x.!...!
03E0 : 0A 00 E5 CD 00 00 C1 C1 11 10 00 DD 6E FC DD 66 : ............n..f
03F0 : FD 19 DD 75 FC DD 74 FD DD 6E FA DD 66 FB E5 21 : ...u..t..n..f..!
0400 : 01 00 E5 21 10 00 E5 DD E5 D1 21 EA FF 19 E5 CD : ...!......!.....
0410 : 00 00 C1 C1 C1 C1 11 01 00 B7 ED 52 CA E0 00 DD : ...........R....
0420 : 6E FA DD 66 FB E5 CD 00 00 C1 21 00 00 C3 00 00 : n..f......!.....
0430 : 4A 00 03 04 00 22 77 72 65 6C 6F 70 00 07 00 12 : J...."wrelop....
0440 : 74 65 78 74 00 0A 00 22 5F 5F 69 6F 62 00 12 00 : text..."__iob...
0450 : 22 5F 66 70 75 74 63 00 3E 00 22 5F 66 72 65 61 : "_fputc.>."_frea
0460 : 64 00 4B 00 12 74 65 78 74 00 55 00 22 5F 66 63 : d.K..text.U."_fc
0470 : 6C 6F 73 65 00 5C 00 22 63 72 65 74 00 30 00 01 : lose.\."cret.0..
0480 : 00 00 00 00 64 61 74 61 00 0A 55 73 61 67 65 3A : ....data..Usage:
0490 : 20 64 75 6D 70 78 20 66 6E 61 6D 65 00 72 62 00 :  dumpx fname.rb.
04A0 : 43 61 6E 27 74 20 6F 70 65 6E 20 66 69 6C 65 00 : Can't open file.
04B0 : 03 00 02 D0 00 00 05 00 01 00 00 00 00 00 07 00 : ................
04C0 : 02 10 00 64 61 74 61 00 09 00 01 27 00 00 00 64 : ...data....'...d
04D0 : 61 74 61 00 07 00 02 10 00 74 65 78 74 00 09 00 : ata......text...
04E0 : 01 42 02 00 00 74 65 78 74 00 CF 00 04 00 00 00 : .B...text.......
04F0 : 00 10 00 74 65 78 74 00 5F 70 75 74 68 65 78 31 : ...text._puthex1
0500 : 00 00 00 00 00 16 00 00 6E 63 73 76 00 00 00 00 : ........ncsv....
0510 : 00 16 00 00 63 72 65 74 00 00 00 00 00 16 00 00 : ....cret........
0520 : 69 6E 64 69 72 00 00 00 00 00 16 00 00 5F 66 70 : indir........_fp
0530 : 75 74 63 00 00 00 00 00 16 00 00 5F 5F 69 6F 62 : utc........__iob
0540 : 00 00 00 00 00 16 00 00 62 72 65 6C 6F 70 00 00 : ........brelop..
0550 : 00 00 00 16 00 00 63 73 76 00 24 00 00 00 00 00 : ......csv.$.....
0560 : 74 65 78 74 00 4C 33 00 2B 00 00 00 00 00 74 65 : text.L3.+.....te
0570 : 78 74 00 4C 31 00 32 00 00 00 10 00 74 65 78 74 : xt.L1.2.....text
0580 : 00 5F 70 75 74 68 65 78 32 00 5A 00 00 00 10 00 : ._puthex2.Z.....
0590 : 74 65 78 74 00 5F 70 75 74 68 65 78 34 00 00 00 : text._puthex4...
05A0 : 00 00 16 00 00 73 68 61 72 00 76 00 00 00 10 00 : .....shar.v.....
05B0 : 74 65 78 74 00 5F 65 72 72 6F 72 00 D9 00 04 00 : text._error.....
05C0 : 00 00 00 16 00 00 5F 70 75 74 73 00 00 00 00 00 : ......_puts.....
05D0 : 16 00 00 5F 65 78 69 74 00 8D 00 00 00 10 00 74 : ..._exit.......t
05E0 : 65 78 74 00 5F 6D 61 69 6E 00 00 00 00 00 16 00 : ext._main.......
05F0 : 00 5F 66 6F 70 65 6E 00 00 00 00 00 16 00 00 77 : ._fopen........w
0600 : 72 65 6C 6F 70 00 00 00 00 00 16 00 00 5F 66 72 : relop........_fr
0610 : 65 61 64 00 00 00 00 00 16 00 00 5F 66 63 6C 6F : ead........_fclo
0620 : 73 65 00 AE 00 00 00 00 00 74 65 78 74 00 6C 37 : se.......text.l7
0630 : 00 00 00 00 00 00 00 64 61 74 61 00 31 39 41 00 : .......data.19A.
0640 : 14 00 00 00 00 00 64 61 74 61 00 32 39 41 00 D5 : ......data.29A..
0650 : 00 00 00 00 00 74 65 78 74 00 6C 38 00 17 00 00 : .....text.l8....
0660 : 00 00 00 64 61 74 61 00 33 39 41 00 0A 02 00 00 : ...data.39A.....
0670 : 00 00 74 65 78 74 00 6C 39 00 E0 00 00 00 00 00 : ..text.l9.......
0680 : 74 65 78 74 00 6C 31 30 00 46 01 00 00 00 00 74 : text.l10.F.....t
0690 : 65 78 74 00 6C 31 35 00 59 00 04 19 01 00 00 00 : ext.l15.Y.......
06A0 : 00 74 65 78 74 00 6C 31 32 00 DE 01 00 00 00 00 : .text.l12.......
06B0 : 74 65 78 74 00 6C 31 39 00 78 01 00 00 00 00 74 : text.l19.x.....t
06C0 : 65 78 74 00 6C 31 36 00 C4 01 00 00 00 00 74 65 : ext.l16.......te
06D0 : 78 74 00 6C 32 30 00 C8 01 00 00 00 00 74 65 78 : xt.l20.......tex
06E0 : 74 00 4C 34 00 D1 01 00 00 00 00 74 65 78 74 00 : t.L4.......text.
06F0 : 6C 31 38 00 02 00 06 00 00 1A 1A 1A 1A 1A 1A 1A : l18.............

C>

